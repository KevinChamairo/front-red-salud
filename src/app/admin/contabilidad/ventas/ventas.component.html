<div class="primer-select">
  <h3>Ventas</h3>
  <div class="seleeeeee">
    <form class="fo" [formGroup]="formu">
      <div class="sell2" style="margin-left: -1rem; margin-right: 50px">
        <mat-select
          formControlName="sele1"
          class="select-pag2"
          (selectionChange)="change1()"
        >
          <mat-option [value]="0">Seleccionar canal</mat-option>
          <mat-option [value]="-1">Todos</mat-option>
          <mat-option [value]="item.id" *ngFor="let item of SeriesSelect">
            {{ item.serie }}-{{ item.description }}
          </mat-option>
          <mat-option [value]="-2">Varios</mat-option>
        </mat-select>
      </div>
      <div class="sell2" style="margin-left: 35px">
        <!-- <mat-icon class="flecha2">expand_more</mat-icon> -->
        <mat-select
          *ngIf="select1 == -1"
          formControlName="sele2"
          class="select-pag2"
          (selectionChange)="change2()"
        >
          <mat-option [value]="0">Selecciona tipo </mat-option>
          <mat-option [value]="3">Comprobantes Enviados </mat-option>
        </mat-select>
        <mat-select
          *ngIf="select1 != -1"
          formControlName="sele2"
          class="select-pag2"
          [disabled]="desa()"
          (selectionChange)="change2()"
        >
          <mat-option [value]="0">Selecciona tipo </mat-option>
          <mat-option [value]="1">Comprobantes por Generar</mat-option>
          <mat-option [value]="2">Comprobantes Generados </mat-option>
          <mat-option [value]="3">Comprobantes Enviados </mat-option>
          <mat-option [value]="4">Consultar CDR </mat-option>
        </mat-select>
      </div>
    </form>
  </div>

  <div [ngSwitch]="form">
    <!-- comentado-->
    <app-filtro
      *ngSwitchCase="'normal'"
      (fechas)="method($event)"
      [tipo]="tipo"
    ></app-filtro>

    <!-- filtro con elige una opción -->
    <app-opcionfiltro
      *ngSwitchCase="'opcion'"
      [datocobro]="datocobro"
      (fechas)="meto2($event)"
    ></app-opcionfiltro>

    <!-- Buscar anexos concar -->
    <div class="outlet-hijo pa" *ngIf="mostrarAnexosConar">
      <div class="gecon">
        <button class="buscar" (click)="conc()">Buscar Anexos Concar</button>

        <form [formGroup]="anexos" *ngIf="conca" class="concar">
          <div class="conca1">
            <span class="coca">Correlativo Concar: </span>
            <mat-form-field class="input-child-3" appearance="outline">
              <input matInput formControlName="anexo1" />
            </mat-form-field>
          </div>
          <div class="conca2">
            <span class="coca" style="width: 58px">Fecha Concar: </span>
            <mat-form-field appearance="outline" class="input">
              <input
                readonly
                matInput
                formControlName="anexo2"
                [matDatepicker]="picker3"
                placeholder="dd/mm/aaaa"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker3"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker3></mat-datepicker>
            </mat-form-field>
          </div>
          <div class="conca3">
            <button
              class="bu"
              mat-raised-button
              color="accent"
              (click)="buscarConcar()"
            >
              Descargar <mat-icon>chevron_right</mat-icon>
            </button>
          </div>
        </form>
      </div>
    </div>

    <!--tabla  ss-->
    <!-- <div class="outlet-hijo">
    <div class="main-table">
      <div class="table-head">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #013c8d; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div class="space"></div>
        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>Emision</h4>
            </td>
            <td>
              <h4>Comprobante</h4>
            </td>
            <td>
              <h4>Plan</h4>
            </td>
            <td>
              <h4>Dni/CE</h4>
            </td>
            <td>
              <h4>Razón Social</h4>
            </td>
            <td>
              <h4>Importe</h4>
            </td>
            <td>
              <h4>Estado</h4>
            </td>
            <td>
              <h4>Descargar</h4>
            </td>
            <td>
              <div class="che">
                <input
                  type="checkbox"
                  style="margin-top: -1px; margin-left: -1px"
                />
                <h4>Todos</h4>
              </div>
            </td>
          </tr>
          <tr class="table-body-row">
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>
              <mat-icon class="descargar">system_update_alt</mat-icon>
            </td>
            <td>
              <input type="checkbox" style="margin-left: -40px" />
            </td>
          </tr>
        </table>
      </div>
    </div>

    <button class="bo">
      <p style="font-weight: bold">Anular Comprobantes</p>
      <mat-icon class="ico">chevron_right</mat-icon>
    </button>
  </div> -->

    <!--

    <div class="input-group-2-modal mar">
          <div class="input-7">
            <h3>Id Contratante</h3>
            <mat-form-field class="input-child" appearance="outline">
              <input matInput readonly />
            </mat-form-field>
          </div>
          <div class="input-7">
            <h3>Tipo de Documento:</h3>
            <mat-form-field class="input-child" appearance="outline">
              <mat-select>
                <mat-option> dfsgdf </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
   -->

    <div *ngSwitchCase="'manual'" class="outlet-hijo">
      <h3 class="texto">Comprobantes Manuales</h3>

      <form action="" [formGroup]="forCm">
        <div class="dos">
          <div class="primer">
            <div class="sele-inpu">
              <div class="pri">
                <p>Tipo de Documento</p>
                <mat-form-field class="input-child" appearance="outline">
                  <mat-select
                    formControlName="tipoDoc"
                    (selectionChange)="getDni()"
                  >
                    <mat-option value="0" aria-selected="">
                      Seleccionar
                    </mat-option>
                    <mat-option [value]="1" aria-selected=""> DNI </mat-option>
                    <mat-option [value]="2" aria-selected=""> RUC </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="pri">
                <p>Número de Documento</p>
                <div>
                  <mat-form-field class="input-child" appearance="outline">
                    <input
                      matInput
                      formControlName="NumeroDoc"
                      (ngModelChange)="getDatos()"
                    />
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="solo">
              <p>Razón Social</p>
              <mat-form-field class="largo" appearance="outline">
                <input matInput formControlName="RazonSocial" />
              </mat-form-field>
            </div>
            <div>
              <p>Fecha</p>
              <mat-form-field appearance="outline" class="input">
                <input
                  readonly
                  matInput
                  formControlName="fecha"
                  [matDatepicker]="picker"
                  placeholder="dd/mm/aaaa"
                />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
            <div class="sele-inpu">
              <div class="pri">
                <p>Moneda</p>
                <mat-form-field class="input-child" appearance="outline">
                  <mat-select formControlName="Moneda">
                    <mat-option value="0"> Soles </mat-option>
                    <mat-option value="1"> Dólares </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="pri">
                <p>Importe</p>
                <mat-form-field class="input-child" appearance="outline">
                  <input formControlName="Importe" matInput />
                </mat-form-field>
              </div>
            </div>
          </div>
          <div class="primer">
            <div class="sele-inpu">
              <div class="pri">
                <p>Serie</p>
                <mat-form-field class="input-child" appearance="outline">
                  <mat-select formControlName="SerieId" (ngModelChange)="obC()">
                    <mat-option [value]="0" aria-selected="">
                      Seleccionar
                    </mat-option>
                    <mat-option
                      *ngFor="let item of SeriesSelect"
                      [value]="item.id"
                    >
                      {{ item.serie }}</mat-option
                    >
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="pri">
                <p>Correlativo</p>
                <div>
                  <mat-form-field class="input-child" appearance="outline">
                    <input formControlName="Correlativo" matInput />
                  </mat-form-field>
                </div>
              </div>
            </div>
            <div class="solo">
              <p>Dirección</p>
              <mat-form-field class="input-child-c" appearance="outline">
                <input matInput formControlName="Direccion" />
              </mat-form-field>
            </div>

            <div class="inicio">
              <p>Descripción</p>
              <mat-form-field appearance="outline">
                <input matInput formControlName="Descripcion" class="ini" />
              </mat-form-field>
            </div>
          </div>
        </div>
      </form>
      <div class="dos-botones">
        <button class="bo5" (click)="sh()">
          <p style="font-weight: bold">Generar Comprobantes</p>
          <mat-icon class="ico">chevron_right</mat-icon>
        </button>
        <button class="bo5">
          <p style="font-weight: bold">Cancelar</p>
          <mat-icon class="ico">chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- facturas Enviados -->

  <div class="outlet-hijo" *ngIf="mostrartablafc">
    <div class="main-table">
      <div class="importetotal">
        <span class="tituCm">Comprobantes Automáticos</span>
        <div class="importe">
          <span>Total:</span>
          <span> f<span>PEN</span> </span>
        </div>
      </div>
      <div class="table-head">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #013c8d; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div class="space"></div>
        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div *ngIf="dataFacturasGenerados.length != 0" class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>Emision2</h4>
            </td>
            <td>
              <h4>Comprobante</h4>
            </td>
            <td>
              <h4>Plan</h4>
            </td>
            <td>
              <h4>DNI / CE</h4>
            </td>
            <td>
              <h4>Razón Social</h4>
            </td>
            <td>
              <h4>Importe</h4>
            </td>
            <td>
              <h4>Estado</h4>
            </td>
            <td>
              <h4>Descargar</h4>
            </td>
            <td style="padding-right: 12px">
              <div class="che">
                <mat-checkbox
                  [(ngModel)]="enviadosBool"
                  (ngModelChange)="
                    selectall(dataComprobantesEnviados, 'enviados')
                  "
                >
                  Todos</mat-checkbox
                >
              </div>
            </td>
          </tr>
          <tr
            *ngFor="
              let item of dataFacturasGenerados
                | paginate
                  : {
                      id: 'paginador6',
                      itemsPerPage: grupo6,
                      currentPage: page6
                    }
            "
            class="table-body-row"
          >
            <td>{{ item.plan_id }}</td>
            <td>fecha</td>
            <td>{{ item.plan_name }}</td>
            <td>{{ item.sub_charges_number }}</td>
            <td>{{ ruc }}</td>
            <td>{{ rs }}</td>
            <td>{{ item.amount }} <span>PEN</span></td>
            <td>tipo de pago</td>
            <td>
              <mat-checkbox
                [(ngModel)]="item.selected"
                (ngModelChange)="selectindividual(item, 'enviados')"
              ></mat-checkbox>
            </td>
          </tr>
        </table>
      </div>
      <div
        *ngIf="dataFacturasGenerados.length != 0; else nodata"
        class="table-foot"
      >
        <h4>
          Del
          {{ ((page6 > 1 ? page6 : 1) - 1) * grupo6 + 1 }} al
          {{
            ((page6 > 1 ? page6 : 1) - 1) * grupo6 + grupo6 > pc.getTotalItems()
              ? pc.getTotalItems()
              : (((page6 > 1 ? page6 : 1) - 1) * grupo6 + grupo6
                | number: "2.0")
          }}
          de {{ pc.getTotalItems() }} registros
        </h4>
        <div class="foot-botones">
          <pagination-template
            id="paginador6"
            #pc="paginationApi"
            (pageChange)="page6 = $event"
          >
            <div class="custom-pagination">
              <button
                mat-mini-fab
                (click)="pc.previous()"
                disabled="{{ pc.isFirstPage() }}"
                class="foot-boton {{ pc.isFirstPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_back</mat-icon>
              </button>
              <div
                class="page-number"
                *ngFor="let page6 of pc.pages"
                [class.current]="pc.getCurrent() === page6.value"
              >
                <span
                  (click)="pc.setCurrent(page6.value)"
                  *ngIf="pc.getCurrent() !== page6.value"
                  >{{ page6.label }}</span
                >
                <div *ngIf="pc.getCurrent() === page6.value">
                  <span>{{ page6.label }}</span>
                </div>
              </div>
              <button
                mat-mini-fab
                (click)="pc.next()"
                disabled="{{ pc.isLastPage() }}"
                class="foot-boton {{ pc.isLastPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_forward</mat-icon>
              </button>
            </div>
          </pagination-template>
        </div>
      </div>
      <!-- <div class="tabu">
        <button
          mat-raised-button
          color="accent"
          *ngIf="butonActualizarEstado()"
        >
          Actualizar Estado <mat-icon>chevron_right</mat-icon>
        </button>
        <button mat-raised-button color="accent" *ngIf="butonAnular()">
          Anular Comprobantes <mat-icon>chevron_right</mat-icon>
        </button>
      </div> -->
      <button mat-raised-button color="accent" class="v">
        Generar Comprobantes <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <ng-template #nodata>
      <tr>
        <td style="padding: 1rem 0 1rem 2rem; font-weight: 700; color: #01387b">
          No hay data
        </td>
      </tr>
    </ng-template>
  </div>

  <!-- factura fin de comprobantes enviados -->

  <!-- Comprobantes Enviados -->

  <div class="outlet-hijo" *ngIf="mostrartablaCenviados">
    <div class="main-table">
      <div class="table-head">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #013c8d; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div class="divEstado">
          <span style="font-weight: bold; color: #01387b; margin-right: 10px"
            >Estado CDR</span
          >
          <mat-form-field class="input-child-3" appearance="outline">
            <mat-select
              [(ngModel)]="esta"
              name="esta"
              (selectionChange)="estado()"
            >
              <mat-option [value]="1"> Ver Todos </mat-option>
              <mat-option [value]="2"> Emitido </mat-option>
              <mat-option [value]="3"> En Proceso </mat-option>
              <mat-option [value]="4"> Rechazado </mat-option>
              <mat-option [value]="5"> Anulado </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <!-- <div class="space"></div> -->
        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div *ngIf="dataComprobantesEnviados.length != 0" class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>Emision</h4>
            </td>
            <td>
              <h4>Comprobante</h4>
            </td>
            <td>
              <h4>Plan</h4>
            </td>
            <td>
              <h4>DNI / CE</h4>
            </td>
            <td>
              <h4>Razón Social</h4>
            </td>
            <td>
              <h4>Importe</h4>
            </td>
            <td>
              <h4>Estado</h4>
            </td>
            <td>
              <h4>Descargar</h4>
            </td>
            <td
              *ngIf="esta == 2 || esta == 3 || esta == 4"
              style="padding-right: 12px"
            >
              <div class="che">
                <mat-checkbox
                  [(ngModel)]="enviadosBool"
                  (ngModelChange)="
                    selectall(dataComprobantesEnviados, 'enviados')
                  "
                >
                  Todos</mat-checkbox
                >
              </div>
            </td>
          </tr>
          <tr
            *ngFor="
              let item of dataComprobantesEnviados
                | paginate
                  : {
                      id: 'paginador',
                      itemsPerPage: grupo,
                      currentPage: page
                    }
            "
            class="table-body-row"
          >
            <td>{{ item.date }}</td>
            <td>{{ item.bill }}</td>
            <td>{{ item.note }}</td>
            <td>{{ item.client_document }}</td>
            <td>{{ item.client_name }}</td>
            <td>{{ item.amount }}</td>
            <td>{{ item.status }}</td>
            <td>
              <mat-icon class="descar" (click)="buspdf(item.bill_id)"
                >download</mat-icon
              >
            </td>
            <td *ngIf="esta == 2 || esta == 3 || esta == 4">
              <mat-checkbox
                [(ngModel)]="item.selected"
                (ngModelChange)="selectindividual(item, 'enviados')"
              ></mat-checkbox>
            </td>
          </tr>
        </table>
      </div>
      <div
        *ngIf="dataComprobantesEnviados.length != 0; else nodata"
        class="table-foot"
      >
        <h4>
          Del
          {{ ((page > 1 ? page : 1) - 1) * grupo + 1 }} al
          {{
            ((page > 1 ? page : 1) - 1) * grupo + grupo > pc.getTotalItems()
              ? pc.getTotalItems()
              : (((page > 1 ? page : 1) - 1) * grupo + grupo | number: "2.0")
          }}
          de {{ pc.getTotalItems() }} registros
        </h4>
        <div class="foot-botones">
          <pagination-template
            id="paginador"
            #pc="paginationApi"
            (pageChange)="page = $event"
          >
            <div class="custom-pagination">
              <button
                mat-mini-fab
                (click)="pc.previous()"
                disabled="{{ pc.isFirstPage() }}"
                class="foot-boton {{ pc.isFirstPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_back</mat-icon>
              </button>
              <div
                class="page-number"
                *ngFor="let page of pc.pages"
                [class.current]="pc.getCurrent() === page.value"
              >
                <span
                  (click)="pc.setCurrent(page.value)"
                  *ngIf="pc.getCurrent() !== page.value"
                  >{{ page.label }}</span
                >
                <div *ngIf="pc.getCurrent() === page.value">
                  <span>{{ page.label }}</span>
                </div>
              </div>
              <button
                mat-mini-fab
                (click)="pc.next()"
                disabled="{{ pc.isLastPage() }}"
                class="foot-boton {{ pc.isLastPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_forward</mat-icon>
              </button>
            </div>
          </pagination-template>
        </div>
      </div>
      <div class="tabu">
        <button
          mat-raised-button
          color="accent"
          *ngIf="butonActualizarEstado()"
        >
          Actualizar Estado <mat-icon>chevron_right</mat-icon>
        </button>
        <button mat-raised-button color="accent" *ngIf="butonAnular()">
          Anular Comprobantes <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>

    <ng-template #nodata>
      <tr>
        <td style="padding: 1rem 0 1rem 2rem; font-weight: 700; color: #01387b">
          No hay data
        </td>
      </tr>
    </ng-template>
  </div>

  <!-- fin de comprobantes enviados -->

  <!-- base boleta comprobante por generar -->
  <div class="outlet-hijo" *ngIf="mostrartabla">
    <div class="main-table">
      <div class="importetotal">
        <span class="tituCm">Comprobantes Automáticos</span>
        <div class="importe">
          <span>Total:</span>
          <span> {{ importeTotal }} <span>PEN</span> </span>
        </div>
      </div>
      <div class="table-head">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #01387b; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div class="space"></div>
        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div *ngIf="dataComprobantesAutomaticos.length != 0" class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>ID</h4>
            </td>
            <td>
              <h4>Fecha</h4>
            </td>
            <td>
              <h4>Plan</h4>
            </td>
            <td>
              <h4>N° Certificado</h4>
            </td>
            <td>
              <h4>Dni / Ruc</h4>
            </td>
            <td>
              <h4>Nombre y Apellidos</h4>
            </td>
            <td>
              <h4>Importe</h4>
            </td>
          </tr>
          <tr
            *ngFor="
              let item of dataComprobantesAutomaticos
                | paginate
                  : {
                      id: 'paginador2',
                      itemsPerPage: grupo2,
                      currentPage: page2
                    }
            "
            class="table-body-row"
          >
            <td>{{ item.id }}</td>
            <td>{{ item.date }}</td>
            <td>{{ item.plan_name }}</td>
            <td>{{ item.certificate_id }}</td>
            <td>{{ item.contractor_document }}</td>
            <td>{{ item.contractor_name }}</td>
            <td>{{ item.amount }}</td>
          </tr>
        </table>
      </div>
      <div
        *ngIf="dataComprobantesAutomaticos.length != 0; else nodata"
        class="table-foot"
      >
        <h4>
          Del
          {{ ((page2 > 1 ? page2 : 1) - 1) * grupo2 + 1 }} al
          {{
            ((page2 > 1 ? page2 : 1) - 1) * grupo2 + grupo2 > pc.getTotalItems()
              ? pc.getTotalItems()
              : (((page > 1 ? page2 : 1) - 1) * grupo2 + grupo2 | number: "2.0")
          }}
          de {{ pc.getTotalItems() }} registros
        </h4>
        <div class="foot-botones">
          <pagination-template
            id="paginador2"
            #pc="paginationApi"
            (pageChange)="page2 = $event"
          >
            <div class="custom-pagination">
              <button
                mat-mini-fab
                (click)="pc.previous()"
                disabled="{{ pc.isFirstPage() }}"
                class="foot-boton {{ pc.isFirstPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_back</mat-icon>
              </button>
              <div
                class="page-number"
                *ngFor="let page2 of pc.pages"
                [class.current]="pc.getCurrent() === page2.value"
              >
                <span
                  (click)="pc.setCurrent(page2.value)"
                  *ngIf="pc.getCurrent() !== page2.value"
                  >{{ page2.label }}</span
                >
                <div *ngIf="pc.getCurrent() === page2.value">
                  <span>{{ page2.label }}</span>
                </div>
              </div>
              <button
                mat-mini-fab
                (click)="pc.next()"
                disabled="{{ pc.isLastPage() }}"
                class="foot-boton {{ pc.isLastPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_forward</mat-icon>
              </button>
            </div>
          </pagination-template>
        </div>
      </div>
      <button class="generarComprobantes" (click)="GenerarComBoleta()">
        Generar Comprobantes <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <ng-template #nodata>
      <tr>
        <td>No hay data</td>
      </tr>
    </ng-template>
  </div>
  <!--dd-->

  <!-- nueva comprobantes automaticos -->
  <!-- <div class="outlet-hijo" *ngIf="mostrartabla"> -->
  <!-- <div class="main-table">
      <div class="importetotal">
        <span class="tituCm">Comprobantes Automáticos</span>
        <div class="importe">
          <span>Total:</span>
          <span>50 <span>PEN</span> </span>
        </div>
      </div>
      <div class="table-head">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #013c8d; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div class="space"></div>
        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>ID</h4>
            </td>
            <td>
              <h4>Fecha</h4>
            </td>
            <td>
              <h4>Plan</h4>
            </td>
            <td>
              <h4>N° Certificado</h4>
            </td>
            <td>
              <h4>Dni / Ruc</h4>
            </td>
            <td>
              <h4>Nombre y Apellidos</h4>
            </td>
            <td>
              <h4>Importe</h4>
            </td>
          </tr>
          <div *ngIf="dataComprobantesAutomaticos.length > 0; else nodata">
            <tr
              class="table-body-row"
              *ngFor="
                let item of dataComprobantesAutomaticos
                  | paginate
                    : {
                        id: 'paginador',
                        itemsPerPage: grupo,
                        currentPage: page
                      }
              "
            >
              <td>{{ item }}</td>
            </tr>
          </div>
          <div
            *ngIf="dataComprobantesAutomaticos.length != 0"
            class="table-foot"
          >
            <h4>
              Del
              {{ ((page > 1 ? page : 1) - 1) * grupo + 1 }} al
              {{
                ((page > 1 ? page : 1) - 1) * grupo + grupo > pc.getTotalItems()
                  ? pc.getTotalItems()
                  : (((page > 1 ? page : 1) - 1) * grupo + grupo
                    | number: "2.0")
              }}
              de {{ pc.getTotalItems() }} registros
            </h4>
            <div class="foot-botones">
              <pagination-template
                id="paginador"
                #pc="paginationApi"
                (pageChange)="page = $event"
              >
                <div class="custom-pagination">
                  <button
                    mat-mini-fab
                    (click)="pc.previous()"
                    disabled="{{ pc.isFirstPage() }}"
                    class="foot-boton {{ pc.isFirstPage() ? 'blanco' : '' }} "
                  >
                    <mat-icon>arrow_back</mat-icon>
                  </button>
                  <div
                    class="page-number"
                    *ngFor="let page of pc.pages"
                    [class.current]="pc.getCurrent() === page.value"
                  >
                    <span
                      (click)="pc.setCurrent(page.value)"
                      *ngIf="pc.getCurrent() !== page.value"
                      >{{ page.label }}</span
                    >
                    <div *ngIf="pc.getCurrent() === page.value">
                      <span>{{ page.label }}</span>
                    </div>
                  </div>
                  <button
                    mat-mini-fab
                    (click)="pc.next()"
                    disabled="{{ pc.isLastPage() }}"
                    class="foot-boton {{ pc.isLastPage() ? 'blanco' : '' }} "
                  >
                    <mat-icon>arrow_forward</mat-icon>
                  </button>
                </div>
              </pagination-template>
            </div>
          </div>
        </table>
      </div>
    </div> -->

  <!-- <ng-template #nodata>
      <tr>
        <td>No hay data</td>
      </tr>
    </ng-template>
  </div> -->
  <!-- tabla de emitir comprobante con fecha -->

  <div class="outlet-hijo" *ngIf="mostrartablaCg">
    <div class="main-table">
      <div class="table-head">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #013c8d; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div class="space"></div>
        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div *ngIf="dataComprobantesGenerados.length != 0" class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>Emision</h4>
            </td>
            <td>
              <h4>Comprobante</h4>
            </td>
            <td>
              <h4>Glosa</h4>
            </td>
            <td>
              <h4>Dni/CE</h4>
            </td>
            <td>
              <h4>Razón Social</h4>
            </td>
            <td>
              <h4>Importe</h4>
            </td>
            <td>
              <h4>Estado</h4>
            </td>
            <td>
              <div class="che">
                <mat-checkbox
                  [(ngModel)]="generadosBool"
                  (ngModelChange)="
                    selectall(dataComprobantesGenerados, 'generados')
                  "
                >
                  Todos</mat-checkbox
                >
              </div>
            </td>
          </tr>
          <tr
            *ngFor="
              let item of dataComprobantesGenerados
                | paginate
                  : {
                      id: 'paginador4',
                      itemsPerPage: grupo4,
                      currentPage: page4
                    }
            "
            class="table-body-row"
          >
            <td>{{ item.date }}</td>
            <td>{{ item.bill }}</td>
            <td>{{ item.note }}</td>
            <td>{{ item.client_document }}</td>
            <td>{{ item.client_name }}</td>
            <td>{{ item.amount }} <span>PEN</span></td>
            <td>{{ item.status }}</td>
            <td>
              <mat-checkbox
                [(ngModel)]="item.selected"
                (ngModelChange)="selectindividual(item, 'generados')"
              ></mat-checkbox>
            </td>
          </tr>
        </table>
      </div>

      <div *ngIf="dataComprobantesGenerados.length != 0" class="table-foot">
        <h4>
          Del
          {{ ((page4 > 1 ? page4 : 1) - 1) * grupo4 + 1 }} al
          {{
            ((page4 > 1 ? page4 : 1) - 1) * grupo4 + grupo4 > pc.getTotalItems()
              ? pc.getTotalItems()
              : (((page4 > 1 ? page4 : 1) - 1) * grupo4 + grupo4
                | number: "2.0")
          }}
          de {{ pc.getTotalItems() }} registros
        </h4>
        <div class="foot-botones">
          <pagination-template
            id="paginador4"
            #pc="paginationApi"
            (pageChange)="page4 = $event"
          >
            <div class="custom-pagination">
              <button
                mat-mini-fab
                (click)="pc.previous()"
                disabled="{{ pc.isFirstPage() }}"
                class="foot-boton {{ pc.isFirstPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_back</mat-icon>
              </button>
              <div
                class="page-number"
                *ngFor="let page4 of pc.pages"
                [class.current]="pc.getCurrent() === page4.value"
              >
                <span
                  (click)="pc.setCurrent(page4.value)"
                  *ngIf="pc.getCurrent() !== page4.value"
                  >{{ page4.label }}</span
                >
                <div *ngIf="pc.getCurrent() === page4.value">
                  <span>{{ page4.label }}</span>
                </div>
              </div>
              <button
                mat-mini-fab
                (click)="pc.next()"
                disabled="{{ pc.isLastPage() }}"
                class="foot-boton {{ pc.isLastPage() ? 'blanco' : '' }} "
              >
                <mat-icon>arrow_forward</mat-icon>
              </button>
            </div>
          </pagination-template>
        </div>
      </div>
    </div>

    <div class="separados">
      <div>
        <div class="cua">
          <button
            class="bo boplo"
            (click)="editdate()"
            style="margin-bottom: 15px; margin-right: 10px; margin-left: -2px"
          >
            <p style="font-weight: bold">Editar Fecha de Emisión</p>
            <mat-icon class="ico">edit</mat-icon>
          </button>
          <div style="display: flex" *ngIf="edidate">
            <mat-form-field appearance="outline" class="input">
              <input
                readonly
                matInput
                [(ngModel)]="upfechaemision"
                [matDatepicker]="picker2"
                placeholder="dd/mm/aaaa"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker2"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
            <!-- <button class="cac">
              <p style="font-weight: bold; line-height: 10px">OK</p>
            </button> -->
            <button
              mat-raised-button
              color="accent"
              style="margin-left: 7.9rem"
              class="ok"
              (click)="upfeemi()"
            >
              ok
            </button>
          </div>
        </div>
        <div style="display: flex">
          <button
            class="bo boplo"
            (click)="editglo()"
            style="margin-left: -1px; margin-bottom: 15px; margin-right: 26px"
          >
            <p style="font-weight: bold">Editar Glosa</p>
            <mat-icon class="ico">edit</mat-icon>
          </button>
          <div style="display: flex" *ngIf="editglosa">
            <mat-form-field class="input-child-c" appearance="outline">
              <input matInput [(ngModel)]="nuevaGlosa" />
            </mat-form-field>
            <button
              mat-raised-button
              (click)="upnuevaglosa()"
              color="accent"
              class="ok"
            >
              ok
            </button>
          </div>
        </div>
      </div>

      <div>
        <button class="bo" (click)="emitir()">
          <p style="font-weight: bold">Emitir Comprobantes</p>
          <mat-icon class="ico">chevron_right</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!--tabla Actualizar estado -->
  <!-- <div class="outlet-hijo">
    <div class="main-table">
      <div class="table-head oo">
        <div class="paginador">
          <h4>Mostrar</h4>
          <div class="sell" style="position: relative">
            <mat-icon class="flecha">expand_more</mat-icon>
            <select class="select-pag">
              <option value="10" selected>10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="75">75</option>
              <option value="100">100</option>
            </select>
          </div>
          <p style="color: #013c8d; font-weight: 400; margin-left: 6px">
            Registros
          </p>
        </div>
        <div style="margin-right: 11%; margin-left: 11%">
          <span style="font-weight: bold; color: #01387b; margin-right: 10px"
            >Estado CDR</span
          >
          <mat-form-field class="input-c" appearance="outline">
            <mat-select>
              <mat-option value="0" selected> Ver Todos </mat-option>
              <mat-option value="1"> dfssa </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="buscador">
          <input type="text" class="buscador-input" placeholder="Buscar" />
          <img class="lupa" src="../../../../assets/svg/lupa.svg" alt="" />
        </div>
        <div class="filtro"></div>
      </div>

      <div class="table-body">
        <table>
          <tr class="table-body-head">
            <td>
              <h4>Emision</h4>
            </td>
            <td>
              <h4>Comprobante</h4>
            </td>
            <td>
              <h4>Rango Correlativo</h4>
            </td>
            <td>
              <h4>Estado</h4>
            </td>
            <td>
              <h4>Opciones</h4>
            </td>
          </tr>
          <tr class="table-body-row">
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>ss</td>
            <td>
              <button class="de">Descargar XML</button>
              <button class="de">Descargar CDR</button>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <button class="bo">
      <p style="font-weight: bold">Actualizar Estado</p>
      <mat-icon class="ico">chevron_right</mat-icon>
    </button>
  </div> -->

  <app-loading *ngIf="loading"></app-loading>
</div>
